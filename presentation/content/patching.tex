
\begin{frame}
\frametitle{Testing Acknowledgements}
How do we test ACKs?

\begin{itemize}
\item TinyOS detect duplicate packets and discards them. 
\item However we wanted to test rapidly sending the same packet.
\item Solution: Patch TinyOS.
\end{itemize}

\end{frame}

\begin{frame}
\frametitle{Testing Acknowledgements}
\begin{itemize}
\item \url{http://www.mail-archive.com/tinyos-help@millennium.berkeley.edu/msg22427.html}
\item \url{/opt/tinyos-2.1.1/tos/chips/cc2420/unique}
\item New files: DummyReceiveP.nc, UniqueReceive.h
\item UniqueReceive.nc and UniqueReceiveP.nc patched as shown on the next slide.
\item Add compile flag to preprocessor: \texttt{CFLAGS+=-DRECEIVE\_HISTORY\_SIZE=0}
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Testing Acknowledgements}


\lstinputlisting[language={c}, captionpos=b, title={UniqueReceive.nc}, label=src:patch]{src/UniqueReceiverC.nc}
\end{frame}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../presentation"
%%% End: 
